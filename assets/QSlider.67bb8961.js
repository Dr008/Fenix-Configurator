import{w as ne,o as Ct,m as we,i as ql,g as he,a1 as Vl,r as R,c as u,j as Qt,a2 as _l,a3 as Ut,B as me,J as ye,k as Xt,l as Yt,H as Ml,h as m,D as Ce,A as Zt,C as Jt,S as Bt,U as Al,G as gt,X as Gt,V as el,I as Bl,a4 as $l,a5 as Rl,a6 as Ze,E as He,a7 as Tl,a8 as Pe,a9 as Fl,aa as ft}from"./index.2a648a84.js";import{Q as je,e as zl,j as De,c as Ge,u as tl,b as ll,i as nl,f as El,R as Il,o as Ll,h as ol}from"./use-router-link.7063a062.js";import{u as et,a as tt,l as Ol,c as Hl,d as Pl,e as Dl,f as Nl,i as jl}from"./use-dark.59f5d832.js";import{u as Kl,r as bt}from"./rtl.bfefc57d.js";import{a as al,r as Wl,p as $t,u as Ql,b as Ul,c as Xl,d as Yl,e as Zl,f as Rt,g as Jl,h as Gl,i as en}from"./QPage.c1bc5beb.js";import{a as tn,b as ln,Q as nn}from"./QItem.297481cc.js";import{c as on,n as Tt,b as Ne,T as an}from"./format.16a51d90.js";import{u as un}from"./use-tick.9431959d.js";function rn({validate:e,resetValidation:l,requiresQForm:n}){const a=ql(Vl,!1);if(a!==!1){const{props:o,proxy:i}=he();Object.assign(i,{validate:e,resetValidation:l}),ne(()=>o.disable,r=>{r===!0?(typeof l=="function"&&l(),a.unbindComponent(i)):a.bindComponent(i)}),Ct(()=>{o.disable!==!0&&a.bindComponent(i)}),we(()=>{o.disable!==!0&&a.unbindComponent(i)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ft=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,zt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Et=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ot=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,at=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,vt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ft.test(e),hexaColor:e=>zt.test(e),hexOrHexaColor:e=>Et.test(e),rgbColor:e=>ot.test(e),rgbaColor:e=>at.test(e),rgbOrRgbaColor:e=>ot.test(e)||at.test(e),hexOrRgbColor:e=>Ft.test(e)||ot.test(e),hexaOrRgbaColor:e=>zt.test(e)||at.test(e),anyColor:e=>Et.test(e)||ot.test(e)||at.test(e)},sn=[!0,!1,"ondemand"],cn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>sn.includes(e)}};function dn(e,l){const{props:n,proxy:a}=he(),o=R(!1),i=R(null),r=R(null);rn({validate:k,resetValidation:c});let f=0,h;const y=u(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),s=u(()=>n.disable!==!0&&y.value===!0),x=u(()=>n.error===!0||o.value===!0),q=u(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:i.value);ne(()=>n.modelValue,()=>{H()}),ne(()=>n.reactiveRules,E=>{E===!0?h===void 0&&(h=ne(()=>n.rules,()=>{H(!0)})):h!==void 0&&(h(),h=void 0)},{immediate:!0}),ne(e,E=>{E===!0?r.value===null&&(r.value=!1):r.value===!1&&(r.value=!0,s.value===!0&&n.lazyRules!=="ondemand"&&l.value===!1&&w())});function c(){f++,l.value=!1,r.value=null,o.value=!1,i.value=null,w.cancel()}function k(E=n.modelValue){if(s.value!==!0)return!0;const P=++f,L=l.value!==!0?()=>{r.value=!0}:()=>{},B=(D,O)=>{D===!0&&L(),o.value=D,i.value=O||null,l.value=!1},T=[];for(let D=0;D<n.rules.length;D++){const O=n.rules[D];let W;if(typeof O=="function"?W=O(E,vt):typeof O=="string"&&vt[O]!==void 0&&(W=vt[O](E)),W===!1||typeof W=="string")return B(!0,W),!1;W!==!0&&W!==void 0&&T.push(W)}return T.length===0?(B(!1),!0):(l.value=!0,Promise.all(T).then(D=>{if(D===void 0||Array.isArray(D)===!1||D.length===0)return P===f&&B(!1),!0;const O=D.find(W=>W===!1||typeof W=="string");return P===f&&B(O!==void 0,O),O===void 0},D=>(P===f&&(console.error(D),B(!0)),!1)))}function H(E){s.value===!0&&n.lazyRules!=="ondemand"&&(r.value===!0||n.lazyRules!==!0&&E!==!0)&&w()}const w=Qt(k,0);return we(()=>{h!==void 0&&h(),w.cancel()}),Object.assign(a,{resetValidation:c,validate:k}),_l(a,"hasError",()=>x.value),{isDirtyModel:r,hasRules:y,hasError:x,errorMessage:q,validate:k,resetValidation:c}}const It=/^on[A-Z]/;function fn(e,l){const n={listeners:R({}),attributes:R({})};function a(){const o={},i={};for(const r in e)r!=="class"&&r!=="style"&&It.test(r)===!1&&(o[r]=e[r]);for(const r in l.props)It.test(r)===!0&&(i[r]=l.props[r]);n.attributes.value=o,n.listeners.value=i}return Ut(a),a(),n}function St(e){return e===void 0?`f_${Kl()}`:e}function pt(e){return e!=null&&(""+e).length>0}const xt={...et,...cn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},ul=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function il(){const{props:e,attrs:l,proxy:n,vnode:a}=he();return{isDark:tt(e,n.$q),editable:u(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:R(!1),focused:R(!1),hasPopupOpen:!1,splitAttrs:fn(l,a),targetUid:R(St(e.for)),rootRef:R(null),targetRef:R(null),controlRef:R(null)}}function rl(e){const{props:l,emit:n,slots:a,attrs:o,proxy:i}=he(),{$q:r}=i;let f=null;e.hasValue===void 0&&(e.hasValue=u(()=>pt(l.modelValue))),e.emitValue===void 0&&(e.emitValue=C=>{n("update:modelValue",C)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:oe,onFocusout:te}),Object.assign(e,{clearValue:X,onControlFocusin:oe,onControlFocusout:te,focus:O}),e.computedCounter===void 0&&(e.computedCounter=u(()=>{if(l.counter!==!1){const C=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,I=l.maxlength!==void 0?l.maxlength:l.maxValues;return C+(I!==void 0?" / "+I:"")}}));const{isDirtyModel:h,hasRules:y,hasError:s,errorMessage:x,resetValidation:q}=dn(e.focused,e.innerLoading),c=e.floatingLabel!==void 0?u(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):u(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),k=u(()=>l.bottomSlots===!0||l.hint!==void 0||y.value===!0||l.counter===!0||l.error!==null),H=u(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),w=u(()=>`q-field row no-wrap items-start q-field--${H.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(c.value===!0?" q-field--float":"")+(P.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(s.value===!0?" q-field--error":"")+(s.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&k.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),E=u(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(s.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length>0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),P=u(()=>l.labelSlot===!0||l.label!==void 0),L=u(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&s.value!==!0?` text-${l.labelColor}`:"")),B=u(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:c.value,modelValue:l.modelValue,emitValue:e.emitValue})),T=u(()=>{const C={for:e.targetUid.value};return l.disable===!0?C["aria-disabled"]="true":l.readonly===!0&&(C["aria-readonly"]="true"),C});ne(()=>l.for,C=>{e.targetUid.value=St(C)});function D(){const C=document.activeElement;let I=e.targetRef!==void 0&&e.targetRef.value;I&&(C===null||C.id!==e.targetUid.value)&&(I.hasAttribute("tabindex")===!0||(I=I.querySelector("[tabindex]")),I&&I!==C&&I.focus({preventScroll:!0}))}function O(){al(D)}function W(){Wl(D);const C=document.activeElement;C!==null&&e.rootRef.value.contains(C)&&C.blur()}function oe(C){f!==null&&(clearTimeout(f),f=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",C))}function te(C,I){f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",C)),I!==void 0&&I())})}function X(C){me(C),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",l.modelValue),ye(()=>{q(),r.platform.is.mobile!==!0&&(h.value=!1)})}function $(){const C=[];return a.prepend!==void 0&&C.push(m("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ce},a.prepend())),C.push(m("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},Z())),s.value===!0&&l.noErrorIcon===!1&&C.push(ie("error",[m(je,{name:r.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?C.push(ie("inner-loading-append",a.loading!==void 0?a.loading():[m(zl,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&C.push(ie("inner-clearable-append",[m(je,{class:"q-field__focusable-action",tag:"button",name:l.clearIcon||r.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:X})])),a.append!==void 0&&C.push(m("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ce},a.append())),e.getInnerAppend!==void 0&&C.push(ie("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&C.push(e.getControlChild()),C}function Z(){const C=[];return l.prefix!==void 0&&l.prefix!==null&&C.push(m("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&C.push(e.getShadowControl()),e.getControl!==void 0?C.push(e.getControl()):a.rawControl!==void 0?C.push(a.rawControl()):a.control!==void 0&&C.push(m("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},a.control(B.value))),P.value===!0&&C.push(m("div",{class:L.value},De(a.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&C.push(m("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),C.concat(De(a.default))}function ue(){let C,I;s.value===!0?x.value!==null?(C=[m("div",{role:"alert"},x.value)],I=`q--slot-error-${x.value}`):(C=De(a.error),I="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(C=[m("div",l.hint)],I=`q--slot-hint-${l.hint}`):(C=De(a.hint),I="q--slot-hint"));const se=l.counter===!0||a.counter!==void 0;if(l.hideBottomSpace===!0&&se===!1&&C===void 0)return;const S=m("div",{key:I,class:"q-field__messages col"},C);return m("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:Ce},[l.hideBottomSpace===!0?S:m(Zt,{name:"q-transition--field-message"},()=>S),se===!0?m("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function ie(C,I){return I===null?null:m("div",{key:C,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},I)}let re=!1;return Xt(()=>{re=!0}),Yt(()=>{re===!0&&l.autofocus===!0&&i.focus()}),Ct(()=>{Ml.value===!0&&l.for===void 0&&(e.targetUid.value=St()),l.autofocus===!0&&i.focus()}),we(()=>{f!==null&&clearTimeout(f)}),Object.assign(i,{focus:O,blur:W}),function(){const I=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...T.value}:T.value;return m("label",{ref:e.rootRef,class:[w.value,o.class],style:o.style,...I},[a.before!==void 0?m("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ce},a.before()):null,m("div",{class:"q-field__inner relative-position col self-stretch"},[m("div",{ref:e.controlRef,class:E.value,tabindex:-1,...e.controlEvents},$()),k.value===!0?ue():null]),a.after!==void 0?m("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ce},a.after()):null])}}var vn=Ge({name:"QField",inheritAttrs:!1,props:xt,emits:ul,setup(){return rl(il())}});const mn={xs:8,sm:10,md:14,lg:20,xl:24};var hn=Ge({name:"QChip",props:{...et,...tl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:a}}=he(),o=tt(e,a),i=ll(e,mn),r=u(()=>e.selected===!0||e.icon!==void 0),f=u(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),h=u(()=>e.iconRemove||a.iconSet.chip.remove),y=u(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=u(()=>{const w=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(w?` text-${w} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(y.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),x=u(()=>{const w=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},E={...w,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:w,remove:E}});function q(w){w.keyCode===13&&c(w)}function c(w){e.disable||(n("update:selected",!e.selected),n("click",w))}function k(w){(w.keyCode===void 0||w.keyCode===13)&&(me(w),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function H(){const w=[];y.value===!0&&w.push(m("div",{class:"q-focus-helper"})),r.value===!0&&w.push(m(je,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const E=e.label!==void 0?[m("div",{class:"ellipsis"},[e.label])]:void 0;return w.push(m("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},El(l.default,E))),e.iconRight&&w.push(m(je,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&w.push(m(je,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...x.value.remove,onClick:k,onKeyup:k})),w}return()=>{if(e.modelValue===!1)return;const w={class:s.value,style:i.value};return y.value===!0&&Object.assign(w,x.value.chip,{onClick:c,onKeyup:q}),nl("div",w,H(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Il,e.ripple]])}}});const gn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function bn({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:a,proxy:o,emit:i}=he(),r=R(null);let f=null;function h(c){return r.value===null?!1:c===void 0||c.touches===void 0||c.touches.length<=1}const y={};n===void 0&&(Object.assign(y,{hide(c){o.hide(c)},toggle(c){o.toggle(c),c.qAnchorHandled=!0},toggleKey(c){Jt(c,13)===!0&&y.toggle(c)},contextClick(c){o.hide(c),Ce(c),ye(()=>{o.show(c),c.qAnchorHandled=!0})},prevent:Ce,mobileTouch(c){if(y.mobileCleanup(c),h(c)!==!0)return;o.hide(c),r.value.classList.add("non-selectable");const k=c.target;Bt(y,"anchor",[[k,"touchmove","mobileCleanup","passive"],[k,"touchend","mobileCleanup","passive"],[k,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,o.show(c),c.qAnchorHandled=!0},300)},mobileCleanup(c){r.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&c!==void 0&&on()}}),n=function(c=a.contextMenu){if(a.noParentEvent===!0||r.value===null)return;let k;c===!0?o.$q.platform.is.mobile===!0?k=[[r.value,"touchstart","mobileTouch","passive"]]:k=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:k=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Bt(y,"anchor",k)});function s(){Al(y,"anchor")}function x(c){for(r.value=c;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;n()}function q(){if(a.target===!1||a.target===""||o.$el.parentNode===null)r.value=null;else if(a.target===!0)x(o.$el.parentNode);else{let c=a.target;if(typeof a.target=="string")try{c=document.querySelector(a.target)}catch{c=void 0}c!=null?(r.value=c.$el||c,n()):(r.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return ne(()=>a.contextMenu,c=>{r.value!==null&&(s(),n(c))}),ne(()=>a.target,()=>{r.value!==null&&s(),q()}),ne(()=>a.noParentEvent,c=>{r.value!==null&&(c===!0?s():n())}),Ct(()=>{q(),l!==!0&&a.modelValue===!0&&r.value===null&&i("update:modelValue",!1)}),we(()=>{f!==null&&clearTimeout(f),s()}),{anchorEl:r,canShow:h,anchorEvents:y}}function Sn(e,l){const n=R(null);let a;function o(f,h){const y=`${h!==void 0?"add":"remove"}EventListener`,s=h!==void 0?h:a;f!==window&&f[y]("scroll",s,gt.passive),window[y]("scroll",s,gt.passive),a=h}function i(){n.value!==null&&(o(n.value),n.value=null)}const r=ne(()=>e.noParentEvent,()=>{n.value!==null&&(i(),l())});return we(r),{localScrollTarget:n,unconfigureScrollTarget:i,changeScrollEvent:o}}const{notPassiveCapture:ut}=gt,$e=[];function it(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=$t.length-1;for(;n>=0;){const a=$t[n].$;if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;n--}for(let a=$e.length-1;a>=0;a--){const o=$e[a];if((o.anchorEl.value===null||o.anchorEl.value.contains(l)===!1)&&(l===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(l)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function pn(e){$e.push(e),$e.length===1&&(document.addEventListener("mousedown",it,ut),document.addEventListener("touchstart",it,ut))}function Lt(e){const l=$e.findIndex(n=>n===e);l>-1&&($e.splice(l,1),$e.length===0&&(document.removeEventListener("mousedown",it,ut),document.removeEventListener("touchstart",it,ut)))}let Ot,Ht;function Pt(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function yn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const yt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{yt[`${e}#ltr`]=e,yt[`${e}#rtl`]=e});function Dt(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:yt[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function Cn(e,l){let{top:n,left:a,right:o,bottom:i,width:r,height:f}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],a-=l[0],i+=l[1],o+=l[0],r+=l[0],f+=l[1]),{top:n,bottom:i,height:f,left:a,right:o,width:r,middle:a+(o-a)/2,center:n+(i-n)/2}}function xn(e,l,n){let{top:a,left:o}=e.getBoundingClientRect();return a+=l.top,o+=l.left,n!==void 0&&(a+=n[1],o+=n[0]),{top:a,bottom:a+1,height:1,left:o,right:o+1,width:1,middle:o,center:a}}function kn(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Nt(e,l,n){return{top:e[n.anchorOrigin.vertical]-l[n.selfOrigin.vertical],left:e[n.anchorOrigin.horizontal]-l[n.selfOrigin.horizontal]}}function wn(e){if(Gt.is.ios===!0&&window.visualViewport!==void 0){const f=document.body.style,{offsetLeft:h,offsetTop:y}=window.visualViewport;h!==Ot&&(f.setProperty("--q-pe-left",h+"px"),Ot=h),y!==Ht&&(f.setProperty("--q-pe-top",y+"px"),Ht=y)}const{scrollLeft:l,scrollTop:n}=e.el,a=e.absoluteOffset===void 0?Cn(e.anchorEl,e.cover===!0?[0,0]:e.offset):xn(e.anchorEl,e.absoluteOffset,e.offset);let o={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(o.minWidth=a.width+"px",e.cover===!0&&(o.minHeight=a.height+"px")),Object.assign(e.el.style,o);const i=kn(e.el);let r=Nt(a,i,e);if(e.absoluteOffset===void 0||e.offset===void 0)mt(r,a,i,e.anchorOrigin,e.selfOrigin);else{const{top:f,left:h}=r;mt(r,a,i,e.anchorOrigin,e.selfOrigin);let y=!1;if(r.top!==f){y=!0;const s=2*e.offset[1];a.center=a.top-=s,a.bottom-=s+2}if(r.left!==h){y=!0;const s=2*e.offset[0];a.middle=a.left-=s,a.right-=s+2}y===!0&&(r=Nt(a,i,e),mt(r,a,i,e.anchorOrigin,e.selfOrigin))}o={top:r.top+"px",left:r.left+"px"},r.maxHeight!==void 0&&(o.maxHeight=r.maxHeight+"px",a.height>r.maxHeight&&(o.minHeight=o.maxHeight)),r.maxWidth!==void 0&&(o.maxWidth=r.maxWidth+"px",a.width>r.maxWidth&&(o.minWidth=o.maxWidth)),Object.assign(e.el.style,o),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==l&&(e.el.scrollLeft=l)}function mt(e,l,n,a,o){const i=n.bottom,r=n.right,f=Ol(),h=window.innerHeight-f,y=document.body.clientWidth;if(e.top<0||e.top+i>h)if(o.vertical==="center")e.top=l[a.vertical]>h/2?Math.max(0,h-i):0,e.maxHeight=Math.min(i,h);else if(l[a.vertical]>h/2){const s=Math.min(h,a.vertical==="center"?l.center:a.vertical===o.vertical?l.bottom:l.top);e.maxHeight=Math.min(i,s),e.top=Math.max(0,s-i)}else e.top=Math.max(0,a.vertical==="center"?l.center:a.vertical===o.vertical?l.top:l.bottom),e.maxHeight=Math.min(i,h-e.top);if(e.left<0||e.left+r>y)if(e.maxWidth=Math.min(r,y),o.horizontal==="middle")e.left=l[a.horizontal]>y/2?Math.max(0,y-r):0;else if(l[a.horizontal]>y/2){const s=Math.min(y,a.horizontal==="middle"?l.middle:a.horizontal===o.horizontal?l.right:l.left);e.maxWidth=Math.min(r,s),e.left=Math.max(0,s-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?l.middle:a.horizontal===o.horizontal?l.left:l.right),e.maxWidth=Math.min(r,y-e.left)}var qn=Ge({name:"QMenu",inheritAttrs:!1,props:{...gn,...Hl,...et,...Ql,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Pt},self:{type:String,validator:Pt},offset:{type:Array,validator:yn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Pl,"click","escapeKey"],setup(e,{slots:l,emit:n,attrs:a}){let o=null,i,r,f;const h=he(),{proxy:y}=h,{$q:s}=y,x=R(null),q=R(!1),c=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),k=tt(e,s),{registerTick:H,removeTick:w}=un(),{registerTimeout:E}=Dl(),{transitionProps:P,transitionStyle:L}=Ul(e),{localScrollTarget:B,changeScrollEvent:T,unconfigureScrollTarget:D}=Sn(e,M),{anchorEl:O,canShow:W}=bn({showing:q}),{hide:oe}=Nl({showing:q,canShow:W,handleShow:S,handleHide:b,hideOnRouteChange:c,processOnMount:!0}),{showPortal:te,hidePortal:X,renderPortal:$}=Xl(h,x,G,"menu"),Z={anchorEl:O,innerRef:x,onClickOutside(v){if(e.persistent!==!0&&q.value===!0)return oe(v),(v.type==="touchstart"||v.target.classList.contains("q-dialog__backdrop"))&&me(v),!0}},ue=u(()=>Dt(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),ie=u(()=>e.cover===!0?ue.value:Dt(e.self||"top start",s.lang.rtl)),re=u(()=>(e.square===!0?" q-menu--square":"")+(k.value===!0?" q-menu--dark q-dark":"")),C=u(()=>e.autoClose===!0?{onClick:j}:{}),I=u(()=>q.value===!0&&e.persistent!==!0);ne(I,v=>{v===!0?(Jl(F),pn(Z)):(Rt(F),Lt(Z))});function se(){al(()=>{let v=x.value;v&&v.contains(document.activeElement)!==!0&&(v=v.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||v.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||v.querySelector("[autofocus], [data-autofocus]")||v,v.focus({preventScroll:!0}))})}function S(v){if(o=e.noRefocus===!1?document.activeElement:null,Yl(Y),te(),M(),i=void 0,v!==void 0&&(e.touchPosition||e.contextMenu)){const ee=el(v);if(ee.left!==void 0){const{top:ve,left:xe}=O.value.getBoundingClientRect();i={left:ee.left-xe,top:ee.top-ve}}}r===void 0&&(r=ne(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,_)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{_(),e.noFocus!==!0&&se()}),E(()=>{s.platform.is.ios===!0&&(f=e.autoClose,x.value.click()),_(),te(!0),n("show",v)},e.transitionDuration)}function b(v){w(),X(),V(!0),o!==null&&(v===void 0||v.qClickOutside!==!0)&&(((v&&v.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),E(()=>{X(!0),n("hide",v)},e.transitionDuration)}function V(v){i=void 0,r!==void 0&&(r(),r=void 0),(v===!0||q.value===!0)&&(Zl(Y),D(),Lt(Z),Rt(F)),v!==!0&&(o=null)}function M(){(O.value!==null||e.scrollTarget!==void 0)&&(B.value=jl(O.value,e.scrollTarget),T(B.value,_))}function j(v){f!==!0?(Gl(y,v),n("click",v)):f=!1}function Y(v){I.value===!0&&e.noFocus!==!0&&Ll(x.value,v.target)!==!0&&se()}function F(v){n("escapeKey"),oe(v)}function _(){const v=x.value;v===null||O.value===null||wn({el:v,offset:e.offset,anchorEl:O.value,anchorOrigin:ue.value,selfOrigin:ie.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function G(){return m(Zt,P.value,()=>q.value===!0?m("div",{role:"menu",...a,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+re.value,a.class],style:[a.style,L.value],...C.value},De(l.default)):null)}return we(V),Object.assign(y,{focus:se,updatePosition:_}),$}});const be=1e3,Vn=["start","center","end","start-force","center-force","end-force"],sl=Array.prototype.filter,_n=window.getComputedStyle(document.body).overflowAnchor===void 0?Bl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];sl.call(n,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const a=n[l];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function Ke(e,l){return e+l}function ht(e,l,n,a,o,i,r,f){const h=e===window?document.scrollingElement||document.documentElement:e,y=o===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-r-f,scrollMaxSize:0,offsetStart:-r,offsetEnd:-f};if(o===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=h.scrollLeft,s.scrollViewSize+=h.clientWidth),s.scrollMaxSize=h.scrollWidth,i===!0&&(s.scrollStart=(bt===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=h.scrollTop,s.scrollViewSize+=h.clientHeight),s.scrollMaxSize=h.scrollHeight),n!==null)for(let x=n.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=x[y]);if(a!==null)for(let x=a.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=x[y]);if(l!==e){const x=h.getBoundingClientRect(),q=l.getBoundingClientRect();o===!0?(s.offsetStart+=q.left-x.left,s.offsetEnd-=q.width):(s.offsetStart+=q.top-x.top,s.offsetEnd-=q.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function jt(e,l,n,a){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(l=(bt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(a===!0&&(l=(bt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Je(e,l,n,a){if(n>=a)return 0;const o=l.length,i=Math.floor(n/be),r=Math.floor((a-1)/be)+1;let f=e.slice(i,r).reduce(Ke,0);return n%be!==0&&(f-=l.slice(i*be,n).reduce(Ke,0)),a%be!==0&&a!==o&&(f-=l.slice(a,r*be).reduce(Ke,0)),f}const Mn={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},An={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Mn};function Bn({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const o=he(),{props:i,emit:r,proxy:f}=o,{$q:h}=f;let y,s,x,q=[],c;const k=R(0),H=R(0),w=R({}),E=R(null),P=R(null),L=R(null),B=R({from:0,to:0}),T=u(()=>i.tableColspan!==void 0?i.tableColspan:100);a===void 0&&(a=u(()=>i.virtualScrollItemSize));const D=u(()=>a.value+";"+i.virtualScrollHorizontal),O=u(()=>D.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);ne(O,()=>{re()}),ne(D,W);function W(){ie(s,!0)}function oe(b){ie(b===void 0?s:b)}function te(b,V){const M=l();if(M==null||M.nodeType===8)return;const j=ht(M,n(),E.value,P.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);x!==j.scrollViewSize&&re(j.scrollViewSize),$(M,j,Math.min(e.value-1,Math.max(0,parseInt(b,10)||0)),0,Vn.indexOf(V)>-1?V:s>-1&&b>s?"end":"start")}function X(){const b=l();if(b==null||b.nodeType===8)return;const V=ht(b,n(),E.value,P.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),M=e.value-1,j=V.scrollMaxSize-V.offsetStart-V.offsetEnd-H.value;if(y===V.scrollStart)return;if(V.scrollMaxSize<=0){$(b,V,0,0);return}x!==V.scrollViewSize&&re(V.scrollViewSize),Z(B.value.from);const Y=Math.floor(V.scrollMaxSize-Math.max(V.scrollViewSize,V.offsetEnd)-Math.min(c[M],V.scrollViewSize/2));if(Y>0&&Math.ceil(V.scrollStart)>=Y){$(b,V,M,V.scrollMaxSize-V.offsetEnd-q.reduce(Ke,0));return}let F=0,_=V.scrollStart-V.offsetStart,G=_;if(_<=j&&_+V.scrollViewSize>=k.value)_-=k.value,F=B.value.from,G=_;else for(let v=0;_>=q[v]&&F<M;v++)_-=q[v],F+=be;for(;_>0&&F<M;)_-=c[F],_>-V.scrollViewSize?(F++,G=_):G=c[F]+_;$(b,V,F,G)}function $(b,V,M,j,Y){const F=typeof Y=="string"&&Y.indexOf("-force")>-1,_=F===!0?Y.replace("-force",""):Y,G=_!==void 0?_:"start";let v=Math.max(0,M-w.value[G]),ee=v+w.value.total;ee>e.value&&(ee=e.value,v=Math.max(0,ee-w.value.total)),y=V.scrollStart;const ve=v!==B.value.from||ee!==B.value.to;if(ve===!1&&_===void 0){I(M);return}const{activeElement:xe}=document,fe=L.value;ve===!0&&fe!==null&&fe!==xe&&fe.contains(xe)===!0&&(fe.addEventListener("focusout",ue),setTimeout(()=>{fe!==null&&fe.removeEventListener("focusout",ue)})),_n(fe,M-v);const _e=_!==void 0?c.slice(v,M).reduce(Ke,0):0;if(ve===!0){const Se=ee>=B.value.from&&v<=B.value.to?B.value.to:ee;B.value={from:v,to:Se},k.value=Je(q,c,0,v),H.value=Je(q,c,ee,e.value),requestAnimationFrame(()=>{B.value.to!==ee&&y===V.scrollStart&&(B.value={from:B.value.from,to:ee},H.value=Je(q,c,ee,e.value))})}requestAnimationFrame(()=>{if(y!==V.scrollStart)return;ve===!0&&Z(v);const Se=c.slice(v,M).reduce(Ke,0),pe=Se+V.offsetStart+k.value,Me=pe+c[M];let Ae=pe+j;if(_!==void 0){const We=Se-_e,ae=V.scrollStart+We;Ae=F!==!0&&ae<pe&&Me<ae+V.scrollViewSize?ae:_==="end"?Me-V.scrollViewSize:pe-(_==="start"?0:Math.round((V.scrollViewSize-c[M])/2))}y=Ae,jt(b,Ae,i.virtualScrollHorizontal,h.lang.rtl),I(M)})}function Z(b){const V=L.value;if(V){const M=sl.call(V.children,v=>v.classList&&v.classList.contains("q-virtual-scroll--skip")===!1),j=M.length,Y=i.virtualScrollHorizontal===!0?v=>v.getBoundingClientRect().width:v=>v.offsetHeight;let F=b,_,G;for(let v=0;v<j;){for(_=Y(M[v]),v++;v<j&&M[v].classList.contains("q-virtual-scroll--with-prev")===!0;)_+=Y(M[v]),v++;G=_-c[F],G!==0&&(c[F]+=G,q[Math.floor(F/be)]+=G),F++}}}function ue(){L.value!==null&&L.value!==void 0&&L.value.focus()}function ie(b,V){const M=1*a.value;(V===!0||Array.isArray(c)===!1)&&(c=[]);const j=c.length;c.length=e.value;for(let F=e.value-1;F>=j;F--)c[F]=M;const Y=Math.floor((e.value-1)/be);q=[];for(let F=0;F<=Y;F++){let _=0;const G=Math.min((F+1)*be,e.value);for(let v=F*be;v<G;v++)_+=c[v];q.push(_)}s=-1,y=void 0,k.value=Je(q,c,0,B.value.from),H.value=Je(q,c,B.value.to,e.value),b>=0?(Z(B.value.from),ye(()=>{te(b)})):se()}function re(b){if(b===void 0&&typeof window!="undefined"){const _=l();_!=null&&_.nodeType!==8&&(b=ht(_,n(),E.value,P.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}x=b;const V=parseFloat(i.virtualScrollSliceRatioBefore)||0,M=parseFloat(i.virtualScrollSliceRatioAfter)||0,j=1+V+M,Y=b===void 0||b<=0?1:Math.ceil(b/a.value),F=Math.max(1,Y,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/j));w.value={total:Math.ceil(F*j),start:Math.ceil(F*V),center:Math.ceil(F*(.5+V)),end:Math.ceil(F*(1+V)),view:Y}}function C(b,V){const M=i.virtualScrollHorizontal===!0?"width":"height",j={["--q-virtual-scroll-item-"+M]:a.value+"px"};return[b==="tbody"?m(b,{class:"q-virtual-scroll__padding",key:"before",ref:E},[m("tr",[m("td",{style:{[M]:`${k.value}px`,...j},colspan:T.value})])]):m(b,{class:"q-virtual-scroll__padding",key:"before",ref:E,style:{[M]:`${k.value}px`,...j}}),m(b,{class:"q-virtual-scroll__content",key:"content",ref:L,tabindex:-1},V.flat()),b==="tbody"?m(b,{class:"q-virtual-scroll__padding",key:"after",ref:P},[m("tr",[m("td",{style:{[M]:`${H.value}px`,...j},colspan:T.value})])]):m(b,{class:"q-virtual-scroll__padding",key:"after",ref:P,style:{[M]:`${H.value}px`,...j}})]}function I(b){s!==b&&(i.onVirtualScroll!==void 0&&r("virtualScroll",{index:b,from:B.value.from,to:B.value.to-1,direction:b<s?"decrease":"increase",ref:f}),s=b)}re();const se=Qt(X,h.platform.is.ios===!0?120:35);$l(()=>{re()});let S=!1;return Xt(()=>{S=!0}),Yt(()=>{if(S!==!0)return;const b=l();y!==void 0&&b!==void 0&&b!==null&&b.nodeType!==8?jt(b,y,i.virtualScrollHorizontal,h.lang.rtl):te(s)}),we(()=>{se.cancel()}),Object.assign(f,{scrollTo:te,reset:W,refresh:oe}),{virtualScrollSliceRange:B,virtualScrollSliceSizeComputed:w,setVirtualScrollSize:re,onVirtualScrollEvt:se,localResetVirtualScroll:ie,padVirtualScroll:C,scrollTo:te,reset:W,refresh:oe}}const kt={name:String};function $n(e){return u(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function cl(e={}){return(l,n,a)=>{l[n](m("input",{class:"hidden"+(a||""),...e.value}))}}function Rn(e){return u(()=>e.name||e.for)}const Tn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Fn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,zn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,En=/[a-z0-9_ -]$/i;function In(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Gt.is.firefox===!0?En.test(n.data)===!1:Tn.test(n.data)===!0||Fn.test(n.data)===!0||zn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Kt=e=>["add","add-unique","toggle"].includes(e),Ln=".*+?^${}()|[]\\",On=Object.keys(xt);var lo=Ge({name:"QSelect",inheritAttrs:!1,props:{...An,...kt,...xt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Kt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...ul,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:n}){const{proxy:a}=he(),{$q:o}=a,i=R(!1),r=R(!1),f=R(-1),h=R(""),y=R(!1),s=R(!1);let x=null,q,c,k,H=null,w,E,P,L;const B=R(null),T=R(null),D=R(null),O=R(null),W=R(null),oe=Rn(e),te=In(qt),X=u(()=>Array.isArray(e.options)?e.options.length:0),$=u(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Z,virtualScrollSliceSizeComputed:ue,localResetVirtualScroll:ie,padVirtualScroll:re,onVirtualScrollEvt:C,scrollTo:I,setVirtualScrollSize:se}=Bn({virtualScrollLength:X,getVirtualScrollTarget:fl,getVirtualScrollEl:ze,virtualScrollItemSizeComputed:$}),S=il(),b=u(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,p=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const g=e.mapOptions===!0&&q!==void 0?q:[],A=p.map(U=>st(U,g));return e.modelValue===null&&t===!0?A.filter(U=>U!==null):A}return p}),V=u(()=>{const t={};return On.forEach(p=>{const g=e[p];g!==void 0&&(t[p]=g)}),t}),M=u(()=>e.optionsDark===null?S.isDark.value:e.optionsDark),j=u(()=>pt(b.value)),Y=u(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||b.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),F=u(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),_=u(()=>X.value===0),G=u(()=>b.value.map(t=>ce.value(t)).join(", ")),v=u(()=>e.displayValue!==void 0?e.displayValue:G.value),ee=u(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),ve=u(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||b.value.some(ee.value))),xe=u(()=>S.focused.value===!0?e.tabindex:-1),fe=u(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${S.targetUid.value}_lb`};return f.value>=0&&(t["aria-activedescendant"]=`${S.targetUid.value}_${f.value}`),t}),_e=u(()=>({id:`${S.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Se=u(()=>b.value.map((t,p)=>({index:p,opt:t,html:ee.value(t),selected:!0,removeAtIndex:Xe,toggleOption:ke,tabindex:xe.value}))),pe=u(()=>{if(X.value===0)return[];const{from:t,to:p}=Z.value;return e.options.slice(t,p).map((g,A)=>{const U=qe.value(g)===!0,N=t+A,J={clickable:!0,active:!1,activeClass:We.value,manualFocus:!0,focused:!1,disable:U,tabindex:-1,dense:e.optionsDense,dark:M.value,role:"option",id:`${S.targetUid.value}_${N}`,onClick:()=>{ke(g)}};return U!==!0&&(z(g)===!0&&(J.active=!0),f.value===N&&(J.focused=!0),J["aria-selected"]=J.active===!0?"true":"false",o.platform.is.desktop===!0&&(J.onMousemove=()=>{i.value===!0&&Ve(N)})),{index:N,opt:g,html:ee.value(g),label:ce.value(g),selected:J.active,focused:J.focused,toggleOption:ke,setOptionIndex:Ve,itemProps:J}})}),Me=u(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),Ae=u(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),We=u(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ae=u(()=>d(e.optionValue,"value")),ce=u(()=>d(e.optionLabel,"label")),qe=u(()=>d(e.optionDisable,"disable")),Re=u(()=>b.value.map(t=>ae.value(t))),rt=u(()=>{const t={onInput:qt,onChange:te,onKeydown:Fe,onKeyup:le,onKeypress:ge,onFocus:K,onClick(p){c===!0&&He(p)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=te,t});ne(b,t=>{q=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&S.innerLoading.value!==!0&&(r.value!==!0&&i.value!==!0||j.value!==!0)&&(k!==!0&&Oe(),(r.value===!0||i.value===!0)&&Ee(""))},{immediate:!0}),ne(()=>e.fillInput,Oe),ne(i,ct),ne(X,wl);function Qe(t){return e.emitValue===!0?ae.value(t):t}function Ue(t){if(t>-1&&t<b.value.length)if(e.multiple===!0){const p=e.modelValue.slice();n("remove",{index:t,value:p.splice(t,1)[0]}),n("update:modelValue",p)}else n("update:modelValue",null)}function Xe(t){Ue(t),S.focus()}function lt(t,p){const g=Qe(t);if(e.multiple!==!0){e.fillInput===!0&&Ye(ce.value(t),!0,!0),n("update:modelValue",g);return}if(b.value.length===0){n("add",{index:0,value:g}),n("update:modelValue",e.multiple===!0?[g]:g);return}if(p===!0&&z(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const A=e.modelValue.slice();n("add",{index:A.length,value:g}),A.push(g),n("update:modelValue",A)}function ke(t,p){if(S.editable.value!==!0||t===void 0||qe.value(t)===!0)return;const g=ae.value(t);if(e.multiple!==!0){p!==!0&&(Ye(e.fillInput===!0?ce.value(t):"",!0,!0),Be()),T.value!==null&&T.value.focus(),(b.value.length===0||Ze(ae.value(b.value[0]),g)!==!0)&&n("update:modelValue",e.emitValue===!0?g:t);return}if((c!==!0||y.value===!0)&&S.focus(),K(),b.value.length===0){const N=e.emitValue===!0?g:t;n("add",{index:0,value:N}),n("update:modelValue",e.multiple===!0?[N]:N);return}const A=e.modelValue.slice(),U=Re.value.findIndex(N=>Ze(N,g));if(U>-1)n("remove",{index:U,value:A.splice(U,1)[0]});else{if(e.maxValues!==void 0&&A.length>=e.maxValues)return;const N=e.emitValue===!0?g:t;n("add",{index:A.length,value:N}),A.push(N)}n("update:modelValue",A)}function Ve(t){if(o.platform.is.desktop!==!0)return;const p=t>-1&&t<X.value?t:-1;f.value!==p&&(f.value=p)}function Te(t=1,p){if(i.value===!0){let g=f.value;do g=Tt(g+t,-1,X.value-1);while(g!==-1&&g!==f.value&&qe.value(e.options[g])===!0);f.value!==g&&(Ve(g),I(g),p!==!0&&e.useInput===!0&&e.fillInput===!0&&nt(g>=0?ce.value(e.options[g]):w))}}function st(t,p){const g=A=>Ze(ae.value(A),t);return e.options.find(g)||p.find(g)||t}function d(t,p){const g=t!==void 0?t:p;return typeof g=="function"?g:A=>A!==null&&typeof A=="object"&&g in A?A[g]:A}function z(t){const p=ae.value(t);return Re.value.find(g=>Ze(g,p))!==void 0}function K(t){e.useInput===!0&&T.value!==null&&(t===void 0||T.value===t.target&&t.target.value===G.value)&&T.value.select()}function Q(t){Jt(t,27)===!0&&i.value===!0&&(He(t),Be(),Oe()),n("keyup",t)}function le(t){const{value:p}=t.target;if(t.keyCode!==void 0){Q(t);return}if(t.target.value="",x!==null&&(clearTimeout(x),x=null),Oe(),typeof p=="string"&&p.length>0){const g=p.toLocaleLowerCase(),A=N=>{const J=e.options.find(de=>N.value(de).toLocaleLowerCase()===g);return J===void 0?!1:(b.value.indexOf(J)===-1?ke(J):Be(),!0)},U=N=>{A(ae)!==!0&&(A(ce)===!0||N===!0||Ee(p,!0,()=>U(!0)))};U()}else S.clearValue(t)}function ge(t){n("keypress",t)}function Fe(t){if(n("keydown",t),Tl(t)===!0)return;const p=h.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),g=t.shiftKey!==!0&&e.multiple!==!0&&(f.value>-1||p===!0);if(t.keyCode===27){Ce(t);return}if(t.keyCode===9&&g===!1){Ie();return}if(t.target===void 0||t.target.id!==S.targetUid.value)return;if(t.keyCode===40&&S.innerLoading.value!==!0&&i.value===!1){me(t),Le();return}if(t.keyCode===8&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ue(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(me(t),f.value=-1,Te(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ue.value!==void 0&&(me(t),f.value=Math.max(-1,Math.min(X.value,f.value+(t.keyCode===33?-1:1)*ue.value.view)),Te(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(me(t),Te(t.keyCode===38?-1:1,e.multiple));const A=X.value;if((P===void 0||L<Date.now())&&(P=""),A>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||P.length>0)){i.value!==!0&&Le(t);const U=t.key.toLocaleLowerCase(),N=P.length===1&&P[0]===U;L=Date.now()+1500,N===!1&&(me(t),P+=U);const J=new RegExp("^"+P.split("").map(dt=>Ln.indexOf(dt)>-1?"\\"+dt:dt).join(".*"),"i");let de=f.value;if(N===!0||de<0||J.test(ce.value(e.options[de]))!==!0)do de=Tt(de+1,-1,A-1);while(de!==f.value&&(qe.value(e.options[de])===!0||J.test(ce.value(e.options[de]))!==!0));f.value!==de&&ye(()=>{Ve(de),I(de),de>=0&&e.useInput===!0&&e.fillInput===!0&&nt(ce.value(e.options[de]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||P!=="")&&(t.keyCode!==9||g===!1))){if(t.keyCode!==9&&me(t),f.value>-1&&f.value<A){ke(e.options[f.value]);return}if(p===!0){const U=(N,J)=>{if(J){if(Kt(J)!==!0)return}else J=e.newValueMode;if(N==null)return;Ye("",e.multiple!==!0,!0),(J==="toggle"?ke:lt)(N,J==="add-unique"),e.multiple!==!0&&(T.value!==null&&T.value.focus(),Be())};if(e.onNewValue!==void 0?n("newValue",h.value,U):U(h.value),e.multiple!==!0)return}i.value===!0?Ie():S.innerLoading.value!==!0&&Le()}}function ze(){return c===!0?W.value:D.value!==null&&D.value.contentEl!==null?D.value.contentEl:void 0}function fl(){return ze()}function vl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Se.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Se.value.map((t,p)=>m(hn,{key:"option-"+p,removable:S.editable.value===!0&&qe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:xe.value,onRemove(){t.removeAtIndex(p)}},()=>m("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ce.value(t.opt)}))):[m("span",{[ve.value===!0?"innerHTML":"textContent"]:v.value})]}function wt(){if(_.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:h.value}):void 0;const t=l.option!==void 0?l.option:g=>m(nn,{key:g.index,...g.itemProps},()=>m(tn,()=>m(ln,()=>m("span",{[g.html===!0?"innerHTML":"textContent"]:g.label}))));let p=re("div",pe.value.map(t));return l["before-options"]!==void 0&&(p=l["before-options"]().concat(p)),ol(l["after-options"],p)}function ml(t,p){const g=p===!0?{...fe.value,...S.splitAttrs.attributes.value}:void 0,A={ref:p===!0?T:void 0,key:"i_t",class:Y.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...g,id:p===!0?S.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...rt.value};return t!==!0&&c===!0&&(Array.isArray(A.class)===!0?A.class=[...A.class,"no-pointer-events"]:A.class+=" no-pointer-events"),m("input",A)}function qt(t){x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&(nt(t.target.value||""),k=!0,w=h.value,S.focused.value!==!0&&(c!==!0||y.value===!0)&&S.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,Ee(h.value)},e.inputDebounce)))}function nt(t){h.value!==t&&(h.value=t,n("inputValue",t))}function Ye(t,p,g){k=g!==!0,e.useInput===!0&&(nt(t),(p===!0||g!==!0)&&(w=t),p!==!0&&Ee(t))}function Ee(t,p,g){if(e.onFilter===void 0||p!==!0&&S.focused.value!==!0)return;S.innerLoading.value===!0?n("filterAbort"):(S.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&b.value.length>0&&k!==!0&&t===ce.value(b.value[0])&&(t="");const A=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);H!==null&&clearTimeout(H),H=A,n("filter",t,(U,N)=>{(p===!0||S.focused.value===!0)&&H===A&&(clearTimeout(H),typeof U=="function"&&U(),s.value=!1,ye(()=>{S.innerLoading.value=!1,S.editable.value===!0&&(p===!0?i.value===!0&&Be():i.value===!0?ct(!0):i.value=!0),typeof N=="function"&&ye(()=>{N(a)}),typeof g=="function"&&ye(()=>{g(a)})}))},()=>{S.focused.value===!0&&H===A&&(clearTimeout(H),S.innerLoading.value=!1,s.value=!1),i.value===!0&&(i.value=!1)})}function hl(){return m(qn,{ref:D,class:F.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&_.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:M.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ae.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,..._e.value,onScrollPassive:C,onBeforeShow:_t,onBeforeHide:gl,onShow:bl},wt)}function gl(t){Mt(t),Ie()}function bl(){se()}function Sl(t){He(t),T.value!==null&&T.value.focus(),y.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function pl(t){He(t),ye(()=>{y.value=!1})}function yl(){const t=[m(vn,{class:`col-auto ${S.fieldClass.value}`,...V.value,for:S.targetUid.value,dark:M.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:h.value.length>0,...S.splitAttrs.listeners.value,onFocus:Sl,onBlur:pl},{...l,rawControl:()=>S.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(m("div",{ref:W,class:F.value+" scroll",style:e.popupContentStyle,..._e.value,onClick:Ce,onScrollPassive:C},wt())),m(en,{ref:O,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:E,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:_t,onBeforeHide:Cl,onHide:xl,onShow:kl},()=>m("div",{class:"q-select__dialog"+(M.value===!0?" q-select__dialog--dark q-dark":"")+(y.value===!0?" q-select__dialog--focused":"")},t))}function Cl(t){Mt(t),O.value!==null&&O.value.__updateRefocusTarget(S.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),S.focused.value=!1}function xl(t){Be(),S.focused.value===!1&&n("blur",t),Oe()}function kl(){const t=document.activeElement;(t===null||t.id!==S.targetUid.value)&&T.value!==null&&T.value!==t&&T.value.focus(),se()}function Ie(){r.value!==!0&&(f.value=-1,i.value===!0&&(i.value=!1),S.focused.value===!1&&(H!==null&&(clearTimeout(H),H=null),S.innerLoading.value===!0&&(n("filterAbort"),S.innerLoading.value=!1,s.value=!1)))}function Le(t){S.editable.value===!0&&(c===!0?(S.onControlFocusin(t),r.value=!0,ye(()=>{S.focus()})):S.focus(),e.onFilter!==void 0?Ee(h.value):(_.value!==!0||l["no-option"]!==void 0)&&(i.value=!0))}function Be(){r.value=!1,Ie()}function Oe(){e.useInput===!0&&Ye(e.multiple!==!0&&e.fillInput===!0&&b.value.length>0&&ce.value(b.value[0])||"",!0,!0)}function ct(t){let p=-1;if(t===!0){if(b.value.length>0){const g=ae.value(b.value[0]);p=e.options.findIndex(A=>Ze(ae.value(A),g))}ie(p)}Ve(p)}function wl(t,p){i.value===!0&&S.innerLoading.value===!1&&(ie(-1,!0),ye(()=>{i.value===!0&&S.innerLoading.value===!1&&(t>p?ie():ct(!0))}))}function Vt(){r.value===!1&&D.value!==null&&D.value.updatePosition()}function _t(t){t!==void 0&&He(t),n("popupShow",t),S.hasPopupOpen=!0,S.onControlFocusin(t)}function Mt(t){t!==void 0&&He(t),n("popupHide",t),S.hasPopupOpen=!1,S.onControlFocusout(t)}function At(){c=o.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||_.value===!1:!0),E=o.platform.is.ios===!0&&c===!0&&e.useInput===!0?"fade":e.transitionShow}return Ut(At),Rl(Vt),At(),we(()=>{x!==null&&clearTimeout(x)}),Object.assign(a,{showPopup:Le,hidePopup:Be,removeAtIndex:Ue,add:lt,toggleOption:ke,getOptionIndex:()=>f.value,setOptionIndex:Ve,moveOptionSelection:Te,filter:Ee,updateMenuPosition:Vt,updateInputValue:Ye,isOptionSelected:z,getEmittingOptionValue:Qe,isOptionDisabled:(...t)=>qe.value.apply(null,t)===!0,getOptionValue:(...t)=>ae.value.apply(null,t),getOptionLabel:(...t)=>ce.value.apply(null,t)}),Object.assign(S,{innerValue:b,fieldClass:u(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:B,targetRef:T,hasValue:j,showPopup:Le,floatingLabel:u(()=>e.hideSelected!==!0&&j.value===!0||typeof h.value=="number"||h.value.length>0||pt(e.displayValue)),getControlChild:()=>{if(S.editable.value!==!1&&(r.value===!0||_.value!==!0||l["no-option"]!==void 0))return c===!0?yl():hl();S.hasPopupOpen===!0&&(S.hasPopupOpen=!1)},controlEvents:{onFocusin(t){S.onControlFocusin(t)},onFocusout(t){S.onControlFocusout(t,()=>{Oe(),Ie()})},onClick(t){if(Ce(t),c!==!0&&i.value===!0){Ie(),T.value!==null&&T.value.focus();return}Le(t)}},getControl:t=>{const p=vl(),g=t===!0||r.value!==!0||c!==!0;if(e.useInput===!0)p.push(ml(t,g));else if(S.editable.value===!0){const U=g===!0?fe.value:void 0;p.push(m("input",{ref:g===!0?T:void 0,key:"d_t",class:"q-select__focus-target",id:g===!0?S.targetUid.value:void 0,value:v.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...U,onKeydown:Fe,onKeyup:Q,onKeypress:ge})),g===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&p.push(m("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:le}))}if(oe.value!==void 0&&e.disable!==!0&&Re.value.length>0){const U=Re.value.map(N=>m("option",{value:N,selected:!0}));p.push(m("select",{class:"hidden",name:oe.value,multiple:e.multiple},U))}const A=e.useInput===!0||g!==!0?void 0:S.splitAttrs.attributes.value;return m("div",{class:"q-field__native row items-center",...A,...S.splitAttrs.listeners.value},p)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[m(je,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Me.value})]:null}),rl(S)}});function Hn(e,l){const n=R(null),a=u(()=>e.disable===!0?null:m("span",{ref:n,class:"no-outline",tabindex:-1}));function o(i){const r=l.value;i!==void 0&&i.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():n.value!==null&&(i===void 0||r!==null&&r.contains(i.target)===!0)&&n.value.focus()}return{refocusTargetEl:a,refocusTarget:o}}var Pn={xs:30,sm:35,md:40,lg:50,xl:60};const no={...et,...tl,...kt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},oo=["update:modelValue"];function ao(e,l){const{props:n,slots:a,emit:o,proxy:i}=he(),{$q:r}=i,f=tt(n,r),h=R(null),{refocusTargetEl:y,refocusTarget:s}=Hn(n,h),x=ll(n,Pn),q=u(()=>n.val!==void 0&&Array.isArray(n.modelValue)),c=u(()=>{const $=Pe(n.val);return q.value===!0?n.modelValue.findIndex(Z=>Pe(Z)===$):-1}),k=u(()=>q.value===!0?c.value>-1:Pe(n.modelValue)===Pe(n.trueValue)),H=u(()=>q.value===!0?c.value===-1:Pe(n.modelValue)===Pe(n.falseValue)),w=u(()=>k.value===!1&&H.value===!1),E=u(()=>n.disable===!0?-1:n.tabindex||0),P=u(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(f.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),L=u(()=>{const $=k.value===!0?"truthy":H.value===!0?"falsy":"indet",Z=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?k.value===!0:H.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${$}${Z}`}),B=u(()=>{const $={type:"checkbox"};return n.name!==void 0&&Object.assign($,{".checked":k.value,"^checked":k.value===!0?"checked":void 0,name:n.name,value:q.value===!0?n.val:n.trueValue}),$}),T=cl(B),D=u(()=>{const $={tabindex:E.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":w.value===!0?"mixed":k.value===!0?"true":"false"};return n.disable===!0&&($["aria-disabled"]="true"),$});function O($){$!==void 0&&(me($),s($)),n.disable!==!0&&o("update:modelValue",W(),$)}function W(){if(q.value===!0){if(k.value===!0){const $=n.modelValue.slice();return $.splice(c.value,1),$}return n.modelValue.concat([n.val])}if(k.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(H.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function oe($){($.keyCode===13||$.keyCode===32)&&me($)}function te($){($.keyCode===13||$.keyCode===32)&&O($)}const X=l(k,w);return Object.assign(i,{toggle:O}),()=>{const $=X();n.disable!==!0&&T($,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const Z=[m("div",{class:L.value,style:x.value,"aria-hidden":"true"},$)];y.value!==null&&Z.push(y.value);const ue=n.label!==void 0?ol(a.default,[n.label]):De(a.default);return ue!==void 0&&Z.push(m("div",{class:`q-${e}__label q-anchor--skip`},ue)),m("div",{ref:h,class:P.value,...D.value,onClick:O,onKeydown:oe,onKeyup:te},Z)}}const Wt="q-slider__marker-labels",Dn=e=>({value:e}),Nn=({marker:e})=>m("div",{key:e.value,style:e.style,class:e.classes},e.label),dl=[34,37,40,33,39,38],jn={...et,...kt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Kn=["pan","update:modelValue","change"];function Wn({updateValue:e,updatePosition:l,getDragging:n,formAttrs:a}){const{props:o,emit:i,slots:r,proxy:{$q:f}}=he(),h=tt(o,f),y=cl(a),s=R(!1),x=R(!1),q=R(!1),c=R(!1),k=u(()=>o.vertical===!0?"--v":"--h"),H=u(()=>"-"+(o.switchLabelSide===!0?"switched":"standard")),w=u(()=>o.vertical===!0?o.reverse===!0:o.reverse!==(f.lang.rtl===!0)),E=u(()=>isNaN(o.innerMin)===!0||o.innerMin<o.min?o.min:o.innerMin),P=u(()=>isNaN(o.innerMax)===!0||o.innerMax>o.max?o.max:o.innerMax),L=u(()=>o.disable!==!0&&o.readonly!==!0&&E.value<P.value),B=u(()=>(String(o.step).trim().split(".")[1]||"").length),T=u(()=>o.step===0?1:o.step),D=u(()=>L.value===!0?o.tabindex||0:-1),O=u(()=>o.max-o.min),W=u(()=>P.value-E.value),oe=u(()=>ve(E.value)),te=u(()=>ve(P.value)),X=u(()=>o.vertical===!0?w.value===!0?"bottom":"top":w.value===!0?"right":"left"),$=u(()=>o.vertical===!0?"height":"width"),Z=u(()=>o.vertical===!0?"width":"height"),ue=u(()=>o.vertical===!0?"vertical":"horizontal"),ie=u(()=>{const d={role:"slider","aria-valuemin":E.value,"aria-valuemax":P.value,"aria-orientation":ue.value,"data-step":o.step};return o.disable===!0?d["aria-disabled"]="true":o.readonly===!0&&(d["aria-readonly"]="true"),d}),re=u(()=>`q-slider q-slider${k.value} q-slider--${s.value===!0?"":"in"}active inline no-wrap `+(o.vertical===!0?"row":"column")+(o.disable===!0?" disabled":" q-slider--enabled"+(L.value===!0?" q-slider--editable":""))+(q.value==="both"?" q-slider--focus":"")+(o.label||o.labelAlways===!0?" q-slider--label":"")+(o.labelAlways===!0?" q-slider--label-always":"")+(h.value===!0?" q-slider--dark":"")+(o.dense===!0?" q-slider--dense q-slider--dense"+k.value:""));function C(d){const z="q-slider__"+d;return`${z} ${z}${k.value} ${z}${k.value}${H.value}`}function I(d){const z="q-slider__"+d;return`${z} ${z}${k.value}`}const se=u(()=>{const d=o.selectionColor||o.color;return"q-slider__selection absolute"+(d!==void 0?` text-${d}`:"")}),S=u(()=>I("markers")+" absolute overflow-hidden"),b=u(()=>I("track-container")),V=u(()=>C("pin")),M=u(()=>C("label")),j=u(()=>C("text-container")),Y=u(()=>C("marker-labels-container")+(o.markerLabelsClass!==void 0?` ${o.markerLabelsClass}`:"")),F=u(()=>"q-slider__track relative-position no-outline"+(o.trackColor!==void 0?` bg-${o.trackColor}`:"")),_=u(()=>{const d={[Z.value]:o.trackSize};return o.trackImg!==void 0&&(d.backgroundImage=`url(${o.trackImg}) !important`),d}),G=u(()=>"q-slider__inner absolute"+(o.innerTrackColor!==void 0?` bg-${o.innerTrackColor}`:"")),v=u(()=>{const d={[X.value]:`${100*oe.value}%`,[$.value]:`${100*(te.value-oe.value)}%`};return o.innerTrackImg!==void 0&&(d.backgroundImage=`url(${o.innerTrackImg}) !important`),d});function ee(d){const{min:z,max:K,step:Q}=o;let le=z+d*(K-z);if(Q>0){const ge=(le-z)%Q;le+=(Math.abs(ge)>=Q/2?(ge<0?-1:1)*Q:0)-ge}return B.value>0&&(le=parseFloat(le.toFixed(B.value))),Ne(le,E.value,P.value)}function ve(d){return O.value===0?0:(d-o.min)/O.value}function xe(d,z){const K=el(d),Q=o.vertical===!0?Ne((K.top-z.top)/z.height,0,1):Ne((K.left-z.left)/z.width,0,1);return Ne(w.value===!0?1-Q:Q,oe.value,te.value)}const fe=u(()=>Fl(o.markers)===!0?o.markers:T.value),_e=u(()=>{const d=[],z=fe.value,K=o.max;let Q=o.min;do d.push(Q),Q+=z;while(Q<K);return d.push(K),d}),Se=u(()=>{const d=` ${Wt}${k.value}-`;return Wt+`${d}${o.switchMarkerLabelsSide===!0?"switched":"standard"}${d}${w.value===!0?"rtl":"ltr"}`}),pe=u(()=>o.markerLabels===!1?null:We(o.markerLabels).map((d,z)=>({index:z,value:d.value,label:d.label||d.value,classes:Se.value+(d.classes!==void 0?" "+d.classes:""),style:{...ae(d.value),...d.style||{}}}))),Me=u(()=>({markerList:pe.value,markerMap:ce.value,classes:Se.value,getStyle:ae})),Ae=u(()=>{if(W.value!==0){const d=100*fe.value/W.value;return{...v.value,backgroundSize:o.vertical===!0?`2px ${d}%`:`${d}% 2px`}}return null});function We(d){if(d===!1)return null;if(d===!0)return _e.value.map(Dn);if(typeof d=="function")return _e.value.map(K=>{const Q=d(K);return ft(Q)===!0?{...Q,value:K}:{value:K,label:Q}});const z=({value:K})=>K>=o.min&&K<=o.max;return Array.isArray(d)===!0?d.map(K=>ft(K)===!0?K:{value:K}).filter(z):Object.keys(d).map(K=>{const Q=d[K],le=Number(K);return ft(Q)===!0?{...Q,value:le}:{value:le,label:Q}}).filter(z)}function ae(d){return{[X.value]:`${100*(d-o.min)/O.value}%`}}const ce=u(()=>{if(o.markerLabels===!1)return null;const d={};return pe.value.forEach(z=>{d[z.value]=z}),d});function qe(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](Me.value);const d=r["marker-label"]||Nn;return pe.value.map(z=>d({marker:z,...Me.value}))}const Re=u(()=>[[an,rt,void 0,{[ue.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function rt(d){d.isFinal===!0?(c.value!==void 0&&(l(d.evt),d.touch===!0&&e(!0),c.value=void 0,i("pan","end")),s.value=!1,q.value=!1):d.isFirst===!0?(c.value=n(d.evt),l(d.evt),e(),s.value=!0,i("pan","start")):(l(d.evt),e())}function Qe(){q.value=!1}function Ue(d){l(d,n(d)),e(),x.value=!0,s.value=!0,document.addEventListener("mouseup",Xe,!0)}function Xe(){x.value=!1,s.value=!1,e(!0),Qe(),document.removeEventListener("mouseup",Xe,!0)}function lt(d){l(d,n(d)),e(!0)}function ke(d){dl.includes(d.keyCode)&&e(!0)}function Ve(d){if(o.vertical===!0)return null;const z=f.lang.rtl!==o.reverse?1-d:d;return{transform:`translateX(calc(${2*z-1} * ${o.thumbSize} / 2 + ${50-100*z}%))`}}function Te(d){const z=u(()=>x.value===!1&&(q.value===d.focusValue||q.value==="both")?" q-slider--focus":""),K=u(()=>`q-slider__thumb q-slider__thumb${k.value} q-slider__thumb${k.value}-${w.value===!0?"rtl":"ltr"} absolute non-selectable`+z.value+(d.thumbColor.value!==void 0?` text-${d.thumbColor.value}`:"")),Q=u(()=>({width:o.thumbSize,height:o.thumbSize,[X.value]:`${100*d.ratio.value}%`,zIndex:q.value===d.focusValue?2:void 0})),le=u(()=>d.labelColor.value!==void 0?` text-${d.labelColor.value}`:""),ge=u(()=>Ve(d.ratio.value)),Fe=u(()=>"q-slider__text"+(d.labelTextColor.value!==void 0?` text-${d.labelTextColor.value}`:""));return()=>{const ze=[m("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[m("path",{d:o.thumbPath})]),m("div",{class:"q-slider__focus-ring fit"})];return(o.label===!0||o.labelAlways===!0)&&(ze.push(m("div",{class:V.value+" absolute fit no-pointer-events"+le.value},[m("div",{class:M.value,style:{minWidth:o.thumbSize}},[m("div",{class:j.value,style:ge.value},[m("span",{class:Fe.value},d.label.value)])])])),o.name!==void 0&&o.disable!==!0&&y(ze,"push")),m("div",{class:K.value,style:Q.value,...d.getNodeData()},ze)}}function st(d,z,K,Q){const le=[];o.innerTrackColor!=="transparent"&&le.push(m("div",{key:"inner",class:G.value,style:v.value})),o.selectionColor!=="transparent"&&le.push(m("div",{key:"selection",class:se.value,style:d.value})),o.markers!==!1&&le.push(m("div",{key:"marker",class:S.value,style:Ae.value})),Q(le);const ge=[nl("div",{key:"trackC",class:b.value,tabindex:z.value,...K.value},[m("div",{class:F.value,style:_.value},le)],"slide",L.value,()=>Re.value)];if(o.markerLabels!==!1){const Fe=o.switchMarkerLabelsSide===!0?"unshift":"push";ge[Fe](m("div",{key:"markerL",class:Y.value},qe()))}return ge}return we(()=>{document.removeEventListener("mouseup",Xe,!0)}),{state:{active:s,focus:q,preventFocus:x,dragging:c,editable:L,classes:re,tabindex:D,attributes:ie,step:T,decimals:B,trackLen:O,innerMin:E,innerMinRatio:oe,innerMax:P,innerMaxRatio:te,positionProp:X,sizeProp:$,isReversed:w},methods:{onActivate:Ue,onMobileClick:lt,onBlur:Qe,onKeyup:ke,getContent:st,getThumbRenderFn:Te,convertRatioToModel:ee,convertModelToRatio:ve,getDraggingRatio:xe}}}const Qn=()=>({});var uo=Ge({name:"QSlider",props:{...jn,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Kn,setup(e,{emit:l}){const{proxy:{$q:n}}=he(),{state:a,methods:o}=Wn({updateValue:k,updatePosition:w,getDragging:H,formAttrs:$n(e)}),i=R(null),r=R(0),f=R(0);function h(){f.value=e.modelValue===null?a.innerMin.value:Ne(e.modelValue,a.innerMin.value,a.innerMax.value)}ne(()=>`${e.modelValue}|${a.innerMin.value}|${a.innerMax.value}`,h),h();const y=u(()=>o.convertModelToRatio(f.value)),s=u(()=>a.active.value===!0?r.value:y.value),x=u(()=>{const L={[a.positionProp.value]:`${100*a.innerMinRatio.value}%`,[a.sizeProp.value]:`${100*(s.value-a.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(L.backgroundImage=`url(${e.selectionImg}) !important`),L}),q=o.getThumbRenderFn({focusValue:!0,getNodeData:Qn,ratio:s,label:u(()=>e.labelValue!==void 0?e.labelValue:f.value),thumbColor:u(()=>e.thumbColor||e.color),labelColor:u(()=>e.labelColor),labelTextColor:u(()=>e.labelTextColor)}),c=u(()=>a.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:o.onMobileClick}:{onMousedown:o.onActivate,onFocus:E,onBlur:o.onBlur,onKeydown:P,onKeyup:o.onKeyup});function k(L){f.value!==e.modelValue&&l("update:modelValue",f.value),L===!0&&l("change",f.value)}function H(){return i.value.getBoundingClientRect()}function w(L,B=a.dragging.value){const T=o.getDraggingRatio(L,B);f.value=o.convertRatioToModel(T),r.value=e.snap!==!0||e.step===0?T:o.convertModelToRatio(f.value)}function E(){a.focus.value=!0}function P(L){if(!dl.includes(L.keyCode))return;me(L);const B=([34,33].includes(L.keyCode)?10:1)*a.step.value,T=([34,37,40].includes(L.keyCode)?-1:1)*(a.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*B;f.value=Ne(parseFloat((f.value+T).toFixed(a.decimals.value)),a.innerMin.value,a.innerMax.value),k()}return()=>{const L=o.getContent(x,a.tabindex,c,B=>{B.push(q())});return m("div",{ref:i,class:a.classes.value+(e.modelValue===null?" q-slider--no-value":""),...a.attributes.value,"aria-valuenow":e.modelValue},L)}}});export{lo as Q,oo as a,ao as b,uo as c,kt as d,Hn as e,cl as f,jn as g,Kn as h,Wn as i,dl as k,Pn as o,no as u};
